cassandra/cassandra.sh
[cassandra] 
[cassandra] == cassandra unit test ==
[cassandra] [INFO] Test docker hub official image first:
[cassandra] 
5a3e952019144d9432e5e76e39f4241a26d6d1d87431a01bc3018bcc80d6eb12
[cassandra] [INFO] cassandra-stress write test:
[cassandra] 
******************** Stress Settings ********************
Command:
  Type: write
  Count: 10,000
  No Warmup: false
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 200
  OpsPer Sec: 0
Population:
  Sequence: 1..10000
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V4
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [172.17.0.2]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Pptions: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  factory=org.apache.cassandra.thrift.TFramedTransportFactory; truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=SunX509; store-type=JKS; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  Thrift Port: 9160
  JMX Port: 7199
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

Connected to cluster: Test Cluster, max pending requests per connection 128, max connections per host 8
Datatacenter: datacenter1; Host: /172.17.0.2; Rack: rack1
Created keyspaces. Sleeping 1s for propagation.
Sleeping 2s...
Warming up WRITE with 2500 iterations...
Failed to connect over JMX; not collecting these stats
Running WRITE with 200 threads for 10000 iteration
Failed to connect over JMX; not collecting these stats
type       total ops,    op/s,    pk/s,   row/s,    mean,     med,     .95,     .99,    .999,     max,   time,   stderr, errors,  gc: #,  max ms,  sum ms,  sdv ms,      mb
total,         10000,   15448,   15448,   15448,     8.1,     5.8,    23.3,    44.8,    53.7,    62.2,    0.6,  0.00000,      0,      0,       0,       0,       0,       0


Results:
Op rate                   :   15,448 op/s  [WRITE: 15,448 op/s]
Partition rate            :   15,448 pk/s  [WRITE: 15,448 pk/s]
Row rate                  :   15,448 row/s [WRITE: 15,448 row/s]
Latency mean              :    8.1 ms [WRITE: 8.1 ms]
Latency median            :    5.8 ms [WRITE: 5.8 ms]
Latency 95th percentile   :   23.3 ms [WRITE: 23.3 ms]
Latency 99th percentile   :   44.8 ms [WRITE: 44.8 ms]
Latency 99.9th percentile :   53.7 ms [WRITE: 53.7 ms]
Latency max               :   62.2 ms [WRITE: 62.2 ms]
Total partitions          :     10,000 [WRITE: 10,000]
Total errors              :          0 [WRITE: 0]
Total GC count            : 0
Total GC memory           : 0.000 KiB
Total GC time             :    0.0 seconds
Avg GC time               :    NaN ms
StdDev GC time            :    0.0 ms
Total operation time      : 00:00:00

END
[cassandra] [INFO] cassandra-stress read test:
[cassandra] 
******************** Stress Settings ********************
Command:
  Type: read
  Count: 10,000
  No Warmup: false
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: true
  Min Threads: 4
  Max Threads: 1000
Population:
  Distribution: Gaussian:  min=1,max=10000,mean=5000.500000,stdev=1666.500000
  Order: ARBITRARY
  Wrap: false
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V4
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [172.17.0.2]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Pptions: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  factory=org.apache.cassandra.thrift.TFramedTransportFactory; truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=SunX509; store-type=JKS; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  Thrift Port: 9160
  JMX Port: 7199
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: READ
TokenRange:
  Wrap: false
  Split Factor: 1

Sleeping 2s...
Warming up READ with 2500 iterations...
Connected to cluster: Test Cluster, max pending requests per connection 128, max connections per host 8
Datatacenter: datacenter1; Host: /172.17.0.2; Rack: rack1
Failed to connect over JMX; not collecting these stats
Thread count was not specified

Running with 4 threadCount
Running READ with 4 threads for 10000 iteration
Failed to connect over JMX; not collecting these stats
type       total ops,    op/s,    pk/s,   row/s,    mean,     med,     .95,     .99,    .999,     max,   time,   stderr, errors,  gc: #,  max ms,  sum ms,  sdv ms,      mb
total,          4839,    4839,    4839,    4839,     0.6,     0.5,     0.8,     2.7,    10.2,    16.0,    1.0,  0.00000,      0,      0,       0,       0,       0,       0
total,         10000,   11450,   11450,   11450,     0.3,     0.3,     0.5,     0.9,     5.1,    12.2,    1.5,  0.29032,      0,      0,       0,       0,       0,       0


Results:
Op rate                   :    6,893 op/s  [READ: 6,893 op/s]
Partition rate            :    6,893 pk/s  [READ: 6,893 pk/s]
Row rate                  :    6,893 row/s [READ: 6,893 row/s]
Latency mean              :    0.4 ms [READ: 0.4 ms]
Latency median            :    0.4 ms [READ: 0.4 ms]
Latency 95th percentile   :    0.7 ms [READ: 0.7 ms]
Latency 99th percentile   :    1.8 ms [READ: 1.8 ms]
Latency 99.9th percentile :    8.2 ms [READ: 8.2 ms]
Latency max               :   16.0 ms [READ: 16.0 ms]
Total partitions          :     10,000 [READ: 10,000]
Total errors              :          0 [READ: 0]
Total GC count            : 0
Total GC memory           : 0.000 KiB
Total GC time             :    0.0 seconds
Avg GC time               :    NaN ms
StdDev GC time            :    0.0 ms
Total operation time      : 00:00:01


Running with 8 threadCount
Running READ with 8 threads for 10000 iteration
type       total ops,    op/s,    pk/s,   row/s,    mean,     med,     .95,     .99,    .999,     max,   time,   stderr, errors,  gc: #,  max ms,  sum ms,  sdv ms,      mb
Failed to connect over JMX; not collecting these stats
total,         10000,   10607,   10607,   10607,     0.4,     0.3,     0.5,     0.6,     4.0,     9.9,    0.9,  0.00000,      0,      0,       0,       0,       0,       0


Results:
Op rate                   :   10,607 op/s  [READ: 10,607 op/s]
Partition rate            :   10,607 pk/s  [READ: 10,607 pk/s]
Row rate                  :   10,607 row/s [READ: 10,607 row/s]
Latency mean              :    0.4 ms [READ: 0.4 ms]
Latency median            :    0.3 ms [READ: 0.3 ms]
Latency 95th percentile   :    0.5 ms [READ: 0.5 ms]
Latency 99th percentile   :    0.6 ms [READ: 0.6 ms]
Latency 99.9th percentile :    4.0 ms [READ: 4.0 ms]
Latency max               :    9.9 ms [READ: 9.9 ms]
Total partitions          :     10,000 [READ: 10,000]
Total errors              :          0 [READ: 0]
Total GC count            : 0
Total GC memory           : 0.000 KiB
Total GC time             :    0.0 seconds
Avg GC time               :    NaN ms
StdDev GC time            :    0.0 ms
Total operation time      : 00:00:00

Improvement over 4 threadCount: 54%

Running with 16 threadCount
Running READ with 16 threads for 10000 iteration
Failed to connect over JMX; not collecting these stats
type       total ops,    op/s,    pk/s,   row/s,    mean,     med,     .95,     .99,    .999,     max,   time,   stderr, errors,  gc: #,  max ms,  sum ms,  sdv ms,      mb
total,          1276,    1276,    1276,    1276,     0.5,     0.5,     1.0,     1.4,     2.5,     9.1,    1.0,  0.00000,      0,      0,       0,       0,       0,       0
total,         10000,   34528,   34528,   34528,     0.4,     0.4,     0.7,     1.1,     8.1,    17.8,    1.3,  0.65973,      0,      0,       0,       0,       0,       0


Results:
Op rate                   :    7,983 op/s  [READ: 7,983 op/s]
Partition rate            :    7,983 pk/s  [READ: 7,983 pk/s]
Row rate                  :    7,983 row/s [READ: 7,983 row/s]
Latency mean              :    0.5 ms [READ: 0.5 ms]
Latency median            :    0.4 ms [READ: 0.4 ms]
Latency 95th percentile   :    0.7 ms [READ: 0.7 ms]
Latency 99th percentile   :    1.2 ms [READ: 1.2 ms]
Latency 99.9th percentile :    8.1 ms [READ: 8.1 ms]
Latency max               :   17.8 ms [READ: 17.8 ms]
Total partitions          :     10,000 [READ: 10,000]
Total errors              :          0 [READ: 0]
Total GC count            : 0
Total GC memory           : 0.000 KiB
Total GC time             :    0.0 seconds
Avg GC time               :    NaN ms
StdDev GC time            :    0.0 ms
Total operation time      : 00:00:01

Improvement over 8 threadCount: -25%

Running with 24 threadCount
Running READ with 24 threads for 10000 iteration
Failed to connect over JMX; not collecting these stats
type       total ops,    op/s,    pk/s,   row/s,    mean,     med,     .95,     .99,    .999,     max,   time,   stderr, errors,  gc: #,  max ms,  sum ms,  sdv ms,      mb
total,         10000,   21183,   21183,   21183,     0.5,     0.4,     0.8,     1.1,     4.5,    21.8,    0.5,  0.00000,      0,      0,       0,       0,       0,       0


Results:
Op rate                   :   21,183 op/s  [READ: 21,183 op/s]
Partition rate            :   21,183 pk/s  [READ: 21,183 pk/s]
Row rate                  :   21,183 row/s [READ: 21,183 row/s]
Latency mean              :    0.5 ms [READ: 0.5 ms]
Latency median            :    0.4 ms [READ: 0.4 ms]
Latency 95th percentile   :    0.8 ms [READ: 0.8 ms]
Latency 99th percentile   :    1.1 ms [READ: 1.1 ms]
Latency 99.9th percentile :    4.5 ms [READ: 4.5 ms]
Latency max               :   21.8 ms [READ: 21.8 ms]
Total partitions          :     10,000 [READ: 10,000]
Total errors              :          0 [READ: 0]
Total GC count            : 0
Total GC memory           : 0.000 KiB
Total GC time             :    0.0 seconds
Avg GC time               :    NaN ms
StdDev GC time            :    0.0 ms
Total operation time      : 00:00:00

Improvement over 16 threadCount: 165%

Running with 36 threadCount
Running READ with 36 threads for 10000 iteration
Failed to connect over JMX; not collecting these stats
type       total ops,    op/s,    pk/s,   row/s,    mean,     med,     .95,     .99,    .999,     max,   time,   stderr, errors,  gc: #,  max ms,  sum ms,  sdv ms,      mb
total,         10000,   14151,   14151,   14151,     0.8,     0.5,     1.0,     1.4,    62.9,    63.6,    0.7,  0.00000,      0,      0,       0,       0,       0,       0


Results:
Op rate                   :   14,151 op/s  [READ: 14,151 op/s]
Partition rate            :   14,151 pk/s  [READ: 14,151 pk/s]
Row rate                  :   14,151 row/s [READ: 14,151 row/s]
Latency mean              :    0.8 ms [READ: 0.8 ms]
Latency median            :    0.5 ms [READ: 0.5 ms]
Latency 95th percentile   :    1.0 ms [READ: 1.0 ms]
Latency 99th percentile   :    1.4 ms [READ: 1.4 ms]
Latency 99.9th percentile :   62.9 ms [READ: 62.9 ms]
Latency max               :   63.6 ms [READ: 63.6 ms]
Total partitions          :     10,000 [READ: 10,000]
Total errors              :          0 [READ: 0]
Total GC count            : 0
Total GC memory           : 0.000 KiB
Total GC time             :    0.0 seconds
Avg GC time               :    NaN ms
StdDev GC time            :    0.0 ms
Total operation time      : 00:00:00

Improvement over 24 threadCount: -33%

Running with 54 threadCount
Running READ with 54 threads for 10000 iteration
Failed to connect over JMX; not collecting these stats
type       total ops,    op/s,    pk/s,   row/s,    mean,     med,     .95,     .99,    .999,     max,   time,   stderr, errors,  gc: #,  max ms,  sum ms,  sdv ms,      mb
total,         10000,   11704,   11704,   11704,     0.7,     0.6,     1.3,     1.8,     6.3,    10.2,    0.9,  0.00000,      0,      0,       0,       0,       0,       0


Results:
Op rate                   :   11,704 op/s  [READ: 11,704 op/s]
Partition rate            :   11,704 pk/s  [READ: 11,704 pk/s]
Row rate                  :   11,704 row/s [READ: 11,704 row/s]
Latency mean              :    0.7 ms [READ: 0.7 ms]
Latency median            :    0.6 ms [READ: 0.6 ms]
Latency 95th percentile   :    1.3 ms [READ: 1.3 ms]
Latency 99th percentile   :    1.8 ms [READ: 1.8 ms]
Latency 99.9th percentile :    6.3 ms [READ: 6.3 ms]
Latency max               :   10.2 ms [READ: 10.2 ms]
Total partitions          :     10,000 [READ: 10,000]
Total errors              :          0 [READ: 0]
Total GC count            : 0
Total GC memory           : 0.000 KiB
Total GC time             :    0.0 seconds
Avg GC time               :    NaN ms
StdDev GC time            :    0.0 ms
Total operation time      : 00:00:00

Improvement over 36 threadCount: -17%

Running with 81 threadCount
Running READ with 81 threads for 10000 iteration
Failed to connect over JMX; not collecting these stats
type       total ops,    op/s,    pk/s,   row/s,    mean,     med,     .95,     .99,    .999,     max,   time,   stderr, errors,  gc: #,  max ms,  sum ms,  sdv ms,      mb
total,          8867,    8867,    8867,    8867,     0.9,     0.8,     1.8,     3.7,     7.9,    10.2,    1.0,  0.00000,      0,      0,       0,       0,       0,       0
total,         10000,   66301,   66301,   66301,     2.3,     0.8,    19.0,    20.7,    25.2,    34.8,    1.0, -0.93690,      0,      0,       0,       0,       0,       0


Results:
Op rate                   :    9,832 op/s  [READ: 9,832 op/s]
Partition rate            :    9,832 pk/s  [READ: 9,832 pk/s]
Row rate                  :    9,832 row/s [READ: 9,832 row/s]
Latency mean              :    1.1 ms [READ: 1.1 ms]
Latency median            :    0.8 ms [READ: 0.8 ms]
Latency 95th percentile   :    1.9 ms [READ: 1.9 ms]
Latency 99th percentile   :    6.4 ms [READ: 6.4 ms]
Latency 99.9th percentile :   20.7 ms [READ: 20.7 ms]
Latency max               :   34.8 ms [READ: 34.8 ms]
Total partitions          :     10,000 [READ: 10,000]
Total errors              :          0 [READ: 0]
Total GC count            : 0
Total GC memory           : 0.000 KiB
Total GC time             :    0.0 seconds
Avg GC time               :    NaN ms
StdDev GC time            :    0.0 ms
Total operation time      : 00:00:01

Improvement over 54 threadCount: -16%
            id, type       total ops,    op/s,    pk/s,   row/s,    mean,     med,     .95,     .99,    .999,     max,   time,   stderr, errors,  gc: #,  max ms,  sum ms,  sdv ms,      mb
 4 threadCount, READ,          10000,    6893,    6893,    6893,     0.4,     0.4,     0.7,     1.8,     8.2,    16.0,    1.5,  0.29032,      0,      0,       0,       0,       0,       0
 4 threadCount, total,         10000,    6893,    6893,    6893,     0.4,     0.4,     0.7,     1.8,     8.2,    16.0,    1.5,  0.29032,      0,      0,       0,       0,       0,       0
 8 threadCount, READ,          10000,   10607,   10607,   10607,     0.4,     0.3,     0.5,     0.6,     4.0,     9.9,    0.9,  0.00000,      0,      0,       0,       0,       0,       0
 8 threadCount, total,         10000,   10607,   10607,   10607,     0.4,     0.3,     0.5,     0.6,     4.0,     9.9,    0.9,  0.00000,      0,      0,       0,       0,       0,       0
16 threadCount, READ,          10000,    7983,    7983,    7983,     0.5,     0.4,     0.7,     1.2,     8.1,    17.8,    1.3,  0.65973,      0,      0,       0,       0,       0,       0
16 threadCount, total,         10000,    7983,    7983,    7983,     0.5,     0.4,     0.7,     1.2,     8.1,    17.8,    1.3,  0.65973,      0,      0,       0,       0,       0,       0
24 threadCount, READ,          10000,   21183,   21183,   21183,     0.5,     0.4,     0.8,     1.1,     4.5,    21.8,    0.5,  0.00000,      0,      0,       0,       0,       0,       0
24 threadCount, total,         10000,   21183,   21183,   21183,     0.5,     0.4,     0.8,     1.1,     4.5,    21.8,    0.5,  0.00000,      0,      0,       0,       0,       0,       0
36 threadCount, READ,          10000,   14151,   14151,   14151,     0.8,     0.5,     1.0,     1.4,    62.9,    63.6,    0.7,  0.00000,      0,      0,       0,       0,       0,       0
36 threadCount, total,         10000,   14151,   14151,   14151,     0.8,     0.5,     1.0,     1.4,    62.9,    63.6,    0.7,  0.00000,      0,      0,       0,       0,       0,       0
54 threadCount, READ,          10000,   11704,   11704,   11704,     0.7,     0.6,     1.3,     1.8,     6.3,    10.2,    0.9,  0.00000,      0,      0,       0,       0,       0,       0
54 threadCount, total,         10000,   11704,   11704,   11704,     0.7,     0.6,     1.3,     1.8,     6.3,    10.2,    0.9,  0.00000,      0,      0,       0,       0,       0,       0
81 threadCount, READ,          10000,    9832,    9832,    9832,     1.1,     0.8,     1.9,     6.4,    20.7,    34.8,    1.0, -0.93690,      0,      0,       0,       0,       0,       0
81 threadCount, total,         10000,    9832,    9832,    9832,     1.1,     0.8,     1.9,     6.4,    20.7,    34.8,    1.0, -0.93690,      0,      0,       0,       0,       0,       0
END
cassandra-server
Official-Cassandra-Server
[cassandra] [INFO] Test clear docker image:
[cassandra] 
09e9e73b451e15405070462873f46f5bc9ee35219789e6476144503f32b2cd11
[cassandra] [INFO] cassandra-stress write test:
[cassandra] 
******************** Stress Settings ********************
Command:
  Type: write
  Count: 10,000
  No Warmup: false
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 200
  OpsPer Sec: 0
Population:
  Sequence: 1..10000
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V4
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [172.17.0.2]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Pptions: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  factory=org.apache.cassandra.thrift.TFramedTransportFactory; truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=SunX509; store-type=JKS; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  Thrift Port: 9160
  JMX Port: 7199
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

Connected to cluster: Test Cluster, max pending requests per connection 128, max connections per host 8
Datatacenter: datacenter1; Host: /172.17.0.2; Rack: rack1
Created keyspaces. Sleeping 1s for propagation.
Sleeping 2s...
Warming up WRITE with 2500 iterations...
Failed to connect over JMX; not collecting these stats
Running WRITE with 200 threads for 10000 iteration
Failed to connect over JMX; not collecting these stats
type       total ops,    op/s,    pk/s,   row/s,    mean,     med,     .95,     .99,    .999,     max,   time,   stderr, errors,  gc: #,  max ms,  sum ms,  sdv ms,      mb
total,           274,     274,     274,     274,     8.3,     6.6,    20.4,    23.6,    28.6,    28.6,    1.0,  0.00000,      0,      0,       0,       0,       0,       0
total,         10000,   23523,   23523,   23523,     8.1,     4.9,    27.8,    63.2,    94.5,   102.2,    1.4,  0.69446,      0,      0,       0,       0,       0,       0


Results:
Op rate                   :    7,075 op/s  [WRITE: 7,075 op/s]
Partition rate            :    7,075 pk/s  [WRITE: 7,075 pk/s]
Row rate                  :    7,075 row/s [WRITE: 7,075 row/s]
Latency mean              :    8.1 ms [WRITE: 8.1 ms]
Latency median            :    4.9 ms [WRITE: 4.9 ms]
Latency 95th percentile   :   27.0 ms [WRITE: 27.0 ms]
Latency 99th percentile   :   61.9 ms [WRITE: 61.9 ms]
Latency 99.9th percentile :   94.5 ms [WRITE: 94.5 ms]
Latency max               :  102.2 ms [WRITE: 102.2 ms]
Total partitions          :     10,000 [WRITE: 10,000]
Total errors              :          0 [WRITE: 0]
Total GC count            : 0
Total GC memory           : 0.000 KiB
Total GC time             :    0.0 seconds
Avg GC time               :    NaN ms
StdDev GC time            :    0.0 ms
Total operation time      : 00:00:01

END
[cassandra] [INFO] cassandra-stress read test:
[cassandra] 
******************** Stress Settings ********************
Command:
  Type: read
  Count: 10,000
  No Warmup: false
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: true
  Min Threads: 4
  Max Threads: 1000
Population:
  Distribution: Gaussian:  min=1,max=10000,mean=5000.500000,stdev=1666.500000
  Order: ARBITRARY
  Wrap: false
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V4
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [172.17.0.2]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Pptions: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  factory=org.apache.cassandra.thrift.TFramedTransportFactory; truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=SunX509; store-type=JKS; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  Thrift Port: 9160
  JMX Port: 7199
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: READ
TokenRange:
  Wrap: false
  Split Factor: 1

Sleeping 2s...
Warming up READ with 2500 iterations...
Connected to cluster: Test Cluster, max pending requests per connection 128, max connections per host 8
Datatacenter: datacenter1; Host: /172.17.0.2; Rack: rack1
Failed to connect over JMX; not collecting these stats
Thread count was not specified

Running with 4 threadCount
Running READ with 4 threads for 10000 iteration
Failed to connect over JMX; not collecting these stats
type       total ops,    op/s,    pk/s,   row/s,    mean,     med,     .95,     .99,    .999,     max,   time,   stderr, errors,  gc: #,  max ms,  sum ms,  sdv ms,      mb
total,           636,     636,     636,     636,     0.9,     0.7,     2.1,     4.4,     7.9,    15.1,    1.0,  0.00000,      0,      0,       0,       0,       0,       0
total,          9175,    8539,    8539,    8539,     0.4,     0.4,     0.6,     1.7,    11.1,    25.0,    2.0,  0.61000,      0,      0,       0,       0,       0,       0
total,         10000,   12144,   12144,   12144,     0.3,     0.3,     0.4,     0.6,     2.3,     4.1,    2.1,  0.39555,      0,      0,       0,       0,       0,       0


Results:
Op rate                   :    4,836 op/s  [READ: 4,836 op/s]
Partition rate            :    4,836 pk/s  [READ: 4,836 pk/s]
Row rate                  :    4,836 row/s [READ: 4,836 row/s]
Latency mean              :    0.5 ms [READ: 0.5 ms]
Latency median            :    0.4 ms [READ: 0.4 ms]
Latency 95th percentile   :    0.7 ms [READ: 0.7 ms]
Latency 99th percentile   :    2.2 ms [READ: 2.2 ms]
Latency 99.9th percentile :   11.1 ms [READ: 11.1 ms]
Latency max               :   25.0 ms [READ: 25.0 ms]
Total partitions          :     10,000 [READ: 10,000]
Total errors              :          0 [READ: 0]
Total GC count            : 0
Total GC memory           : 0.000 KiB
Total GC time             :    0.0 seconds
Avg GC time               :    NaN ms
StdDev GC time            :    0.0 ms
Total operation time      : 00:00:02


Running with 8 threadCount
Running READ with 8 threads for 10000 iteration
Failed to connect over JMX; not collecting these stats
type       total ops,    op/s,    pk/s,   row/s,    mean,     med,     .95,     .99,    .999,     max,   time,   stderr, errors,  gc: #,  max ms,  sum ms,  sdv ms,      mb
total,         10000,   18275,   18275,   18275,     0.4,     0.3,     0.5,     0.6,     1.7,    13.8,    0.5,  0.00000,      0,      0,       0,       0,       0,       0


Results:
Op rate                   :   18,275 op/s  [READ: 18,275 op/s]
Partition rate            :   18,275 pk/s  [READ: 18,275 pk/s]
Row rate                  :   18,275 row/s [READ: 18,275 row/s]
Latency mean              :    0.4 ms [READ: 0.4 ms]
Latency median            :    0.3 ms [READ: 0.3 ms]
Latency 95th percentile   :    0.5 ms [READ: 0.5 ms]
Latency 99th percentile   :    0.6 ms [READ: 0.6 ms]
Latency 99.9th percentile :    1.7 ms [READ: 1.7 ms]
Latency max               :   13.8 ms [READ: 13.8 ms]
Total partitions          :     10,000 [READ: 10,000]
Total errors              :          0 [READ: 0]
Total GC count            : 0
Total GC memory           : 0.000 KiB
Total GC time             :    0.0 seconds
Avg GC time               :    NaN ms
StdDev GC time            :    0.0 ms
Total operation time      : 00:00:00

Improvement over 4 threadCount: 278%

Running with 16 threadCount
Running READ with 16 threads for 10000 iteration
Failed to connect over JMX; not collecting these stats
type       total ops,    op/s,    pk/s,   row/s,    mean,     med,     .95,     .99,    .999,     max,   time,   stderr, errors,  gc: #,  max ms,  sum ms,  sdv ms,      mb
total,         10000,   11864,   11864,   11864,     0.4,     0.4,     0.7,     1.0,     2.1,    27.7,    0.8,  0.00000,      0,      0,       0,       0,       0,       0


Results:
Op rate                   :   11,864 op/s  [READ: 11,864 op/s]
Partition rate            :   11,864 pk/s  [READ: 11,864 pk/s]
Row rate                  :   11,864 row/s [READ: 11,864 row/s]
Latency mean              :    0.4 ms [READ: 0.4 ms]
Latency median            :    0.4 ms [READ: 0.4 ms]
Latency 95th percentile   :    0.7 ms [READ: 0.7 ms]
Latency 99th percentile   :    1.0 ms [READ: 1.0 ms]
Latency 99.9th percentile :    2.1 ms [READ: 2.1 ms]
Latency max               :   27.7 ms [READ: 27.7 ms]
Total partitions          :     10,000 [READ: 10,000]
Total errors              :          0 [READ: 0]
Total GC count            : 0
Total GC memory           : 0.000 KiB
Total GC time             :    0.0 seconds
Avg GC time               :    NaN ms
StdDev GC time            :    0.0 ms
Total operation time      : 00:00:00

Improvement over 8 threadCount: -35%

Running with 24 threadCount
Running READ with 24 threads for 10000 iteration
Failed to connect over JMX; not collecting these stats
type       total ops,    op/s,    pk/s,   row/s,    mean,     med,     .95,     .99,    .999,     max,   time,   stderr, errors,  gc: #,  max ms,  sum ms,  sdv ms,      mb
total,          5621,    5621,    5621,    5621,     0.6,     0.5,     0.9,     3.6,    11.1,    17.1,    1.0,  0.00000,      0,      0,       0,       0,       0,       0
total,         10000,   43899,   43899,   43899,     0.5,     0.5,     0.8,     1.5,     8.5,     8.6,    1.1,  0.55672,      0,      0,       0,       0,       0,       0


Results:
Op rate                   :    9,093 op/s  [READ: 9,093 op/s]
Partition rate            :    9,093 pk/s  [READ: 9,093 pk/s]
Row rate                  :    9,093 row/s [READ: 9,093 row/s]
Latency mean              :    0.6 ms [READ: 0.6 ms]
Latency median            :    0.5 ms [READ: 0.5 ms]
Latency 95th percentile   :    0.9 ms [READ: 0.9 ms]
Latency 99th percentile   :    2.0 ms [READ: 2.0 ms]
Latency 99.9th percentile :    9.1 ms [READ: 9.1 ms]
Latency max               :   17.1 ms [READ: 17.1 ms]
Total partitions          :     10,000 [READ: 10,000]
Total errors              :          0 [READ: 0]
Total GC count            : 0
Total GC memory           : 0.000 KiB
Total GC time             :    0.0 seconds
Avg GC time               :    NaN ms
StdDev GC time            :    0.0 ms
Total operation time      : 00:00:01

Improvement over 16 threadCount: -23%

Running with 36 threadCount
Running READ with 36 threads for 10000 iteration
Failed to connect over JMX; not collecting these stats
type       total ops,    op/s,    pk/s,   row/s,    mean,     med,     .95,     .99,    .999,     max,   time,   stderr, errors,  gc: #,  max ms,  sum ms,  sdv ms,      mb
total,         10000,   29899,   29899,   29899,     0.8,     0.5,     1.0,     2.9,    58.1,    58.6,    0.3,  0.00000,      0,      0,       0,       0,       0,       0


Results:
Op rate                   :   29,899 op/s  [READ: 29,899 op/s]
Partition rate            :   29,899 pk/s  [READ: 29,899 pk/s]
Row rate                  :   29,899 row/s [READ: 29,899 row/s]
Latency mean              :    0.8 ms [READ: 0.8 ms]
Latency median            :    0.5 ms [READ: 0.5 ms]
Latency 95th percentile   :    1.0 ms [READ: 1.0 ms]
Latency 99th percentile   :    2.9 ms [READ: 2.9 ms]
Latency 99.9th percentile :   58.1 ms [READ: 58.1 ms]
Latency max               :   58.6 ms [READ: 58.6 ms]
Total partitions          :     10,000 [READ: 10,000]
Total errors              :          0 [READ: 0]
Total GC count            : 0
Total GC memory           : 0.000 KiB
Total GC time             :    0.0 seconds
Avg GC time               :    NaN ms
StdDev GC time            :    0.0 ms
Total operation time      : 00:00:00

Improvement over 24 threadCount: 229%

Running with 54 threadCount
Running READ with 54 threads for 10000 iteration
Failed to connect over JMX; not collecting these stats
type       total ops,    op/s,    pk/s,   row/s,    mean,     med,     .95,     .99,    .999,     max,   time,   stderr, errors,  gc: #,  max ms,  sum ms,  sdv ms,      mb
total,         10000,   20542,   20542,   20542,     0.7,     0.6,     1.5,     2.5,     7.1,     7.6,    0.5,  0.00000,      0,      0,       0,       0,       0,       0


Results:
Op rate                   :   20,542 op/s  [READ: 20,542 op/s]
Partition rate            :   20,542 pk/s  [READ: 20,542 pk/s]
Row rate                  :   20,542 row/s [READ: 20,542 row/s]
Latency mean              :    0.7 ms [READ: 0.7 ms]
Latency median            :    0.6 ms [READ: 0.6 ms]
Latency 95th percentile   :    1.5 ms [READ: 1.5 ms]
Latency 99th percentile   :    2.5 ms [READ: 2.5 ms]
Latency 99.9th percentile :    7.1 ms [READ: 7.1 ms]
Latency max               :    7.6 ms [READ: 7.6 ms]
Total partitions          :     10,000 [READ: 10,000]
Total errors              :          0 [READ: 0]
Total GC count            : 0
Total GC memory           : 0.000 KiB
Total GC time             :    0.0 seconds
Avg GC time               :    NaN ms
StdDev GC time            :    0.0 ms
Total operation time      : 00:00:00

Improvement over 36 threadCount: -31%

Running with 81 threadCount
Running READ with 81 threads for 10000 iteration
Failed to connect over JMX; not collecting these stats
type       total ops,    op/s,    pk/s,   row/s,    mean,     med,     .95,     .99,    .999,     max,   time,   stderr, errors,  gc: #,  max ms,  sum ms,  sdv ms,      mb
total,         10000,   15898,   15898,   15898,     0.8,     0.8,     1.6,     2.3,     4.0,     4.6,    0.6,  0.00000,      0,      0,       0,       0,       0,       0


Results:
Op rate                   :   15,898 op/s  [READ: 15,898 op/s]
Partition rate            :   15,898 pk/s  [READ: 15,898 pk/s]
Row rate                  :   15,898 row/s [READ: 15,898 row/s]
Latency mean              :    0.8 ms [READ: 0.8 ms]
Latency median            :    0.8 ms [READ: 0.8 ms]
Latency 95th percentile   :    1.6 ms [READ: 1.6 ms]
Latency 99th percentile   :    2.3 ms [READ: 2.3 ms]
Latency 99.9th percentile :    4.0 ms [READ: 4.0 ms]
Latency max               :    4.6 ms [READ: 4.6 ms]
Total partitions          :     10,000 [READ: 10,000]
Total errors              :          0 [READ: 0]
Total GC count            : 0
Total GC memory           : 0.000 KiB
Total GC time             :    0.0 seconds
Avg GC time               :    NaN ms
StdDev GC time            :    0.0 ms
Total operation time      : 00:00:00

Improvement over 54 threadCount: -23%

Running with 121 threadCount
Running READ with 121 threads for 10000 iteration
Failed to connect over JMX; not collecting these stats
type       total ops,    op/s,    pk/s,   row/s,    mean,     med,     .95,     .99,    .999,     max,   time,   stderr, errors,  gc: #,  max ms,  sum ms,  sdv ms,      mb
total,         10000,   13132,   13132,   13132,     1.1,     1.0,     2.4,     4.3,    14.6,    16.1,    0.8,  0.00000,      0,      0,       0,       0,       0,       0


Results:
Op rate                   :   13,132 op/s  [READ: 13,132 op/s]
Partition rate            :   13,132 pk/s  [READ: 13,132 pk/s]
Row rate                  :   13,132 row/s [READ: 13,132 row/s]
Latency mean              :    1.1 ms [READ: 1.1 ms]
Latency median            :    1.0 ms [READ: 1.0 ms]
Latency 95th percentile   :    2.4 ms [READ: 2.4 ms]
Latency 99th percentile   :    4.3 ms [READ: 4.3 ms]
Latency 99.9th percentile :   14.6 ms [READ: 14.6 ms]
Latency max               :   16.1 ms [READ: 16.1 ms]
Total partitions          :     10,000 [READ: 10,000]
Total errors              :          0 [READ: 0]
Total GC count            : 0
Total GC memory           : 0.000 KiB
Total GC time             :    0.0 seconds
Avg GC time               :    NaN ms
StdDev GC time            :    0.0 ms
Total operation time      : 00:00:00

Improvement over 81 threadCount: -17%
             id, type       total ops,    op/s,    pk/s,   row/s,    mean,     med,     .95,     .99,    .999,     max,   time,   stderr, errors,  gc: #,  max ms,  sum ms,  sdv ms,      mb
  4 threadCount, READ,          10000,    4836,    4836,    4836,     0.5,     0.4,     0.7,     2.2,    11.1,    25.0,    2.1,  0.39555,      0,      0,       0,       0,       0,       0
  4 threadCount, total,         10000,    4836,    4836,    4836,     0.5,     0.4,     0.7,     2.2,    11.1,    25.0,    2.1,  0.39555,      0,      0,       0,       0,       0,       0
  8 threadCount, READ,          10000,   18275,   18275,   18275,     0.4,     0.3,     0.5,     0.6,     1.7,    13.8,    0.5,  0.00000,      0,      0,       0,       0,       0,       0
  8 threadCount, total,         10000,   18275,   18275,   18275,     0.4,     0.3,     0.5,     0.6,     1.7,    13.8,    0.5,  0.00000,      0,      0,       0,       0,       0,       0
 16 threadCount, READ,          10000,   11864,   11864,   11864,     0.4,     0.4,     0.7,     1.0,     2.1,    27.7,    0.8,  0.00000,      0,      0,       0,       0,       0,       0
 16 threadCount, total,         10000,   11864,   11864,   11864,     0.4,     0.4,     0.7,     1.0,     2.1,    27.7,    0.8,  0.00000,      0,      0,       0,       0,       0,       0
 24 threadCount, READ,          10000,    9093,    9093,    9093,     0.6,     0.5,     0.9,     2.0,     9.1,    17.1,    1.1,  0.55672,      0,      0,       0,       0,       0,       0
 24 threadCount, total,         10000,    9093,    9093,    9093,     0.6,     0.5,     0.9,     2.0,     9.1,    17.1,    1.1,  0.55672,      0,      0,       0,       0,       0,       0
 36 threadCount, READ,          10000,   29899,   29899,   29899,     0.8,     0.5,     1.0,     2.9,    58.1,    58.6,    0.3,  0.00000,      0,      0,       0,       0,       0,       0
 36 threadCount, total,         10000,   29899,   29899,   29899,     0.8,     0.5,     1.0,     2.9,    58.1,    58.6,    0.3,  0.00000,      0,      0,       0,       0,       0,       0
 54 threadCount, READ,          10000,   20542,   20542,   20542,     0.7,     0.6,     1.5,     2.5,     7.1,     7.6,    0.5,  0.00000,      0,      0,       0,       0,       0,       0
 54 threadCount, total,         10000,   20542,   20542,   20542,     0.7,     0.6,     1.5,     2.5,     7.1,     7.6,    0.5,  0.00000,      0,      0,       0,       0,       0,       0
 81 threadCount, READ,          10000,   15898,   15898,   15898,     0.8,     0.8,     1.6,     2.3,     4.0,     4.6,    0.6,  0.00000,      0,      0,       0,       0,       0,       0
 81 threadCount, total,         10000,   15898,   15898,   15898,     0.8,     0.8,     1.6,     2.3,     4.0,     4.6,    0.6,  0.00000,      0,      0,       0,       0,       0,       0
121 threadCount, READ,          10000,   13132,   13132,   13132,     1.1,     1.0,     2.4,     4.3,    14.6,    16.1,    0.8,  0.00000,      0,      0,       0,       0,       0,       0
121 threadCount, total,         10000,   13132,   13132,   13132,     1.1,     1.0,     2.4,     4.3,    14.6,    16.1,    0.8,  0.00000,      0,      0,       0,       0,       0,       0
END
cassandra-server
Clr-Cassandra-Server
