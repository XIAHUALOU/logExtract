postgres/postgres.sh
[postgres] 
[postgres] == postgres unit test ==
[postgres] [INFO] Test docker hub official image first:
[postgres] 
[postgres] [INFO] default package version:
[postgres] 
The files belonging to this database system will be owned by user "postgres".
This user must also own the server process.

The database cluster will be initialized with locale "en_US.utf8".
The default database encoding has accordingly been set to "UTF8".
The default text search configuration will be set to "english".

Data page checksums are disabled.

fixing permissions on existing directory /var/lib/postgresql/data ... ok
creating subdirectories ... ok
selecting default max_connections ... 100
selecting default shared_buffers ... 128MB
selecting default timezone ... Etc/UTC
selecting dynamic shared memory implementation ... posix
creating configuration files ... ok
running bootstrap script ... ok
performing post-bootstrap initialization ... ok
syncing data to disk ... ok

Success. You can now start the database server using:

    pg_ctl -D /var/lib/postgresql/data -l logfile start

waiting for server to start....2019-08-21 16:15:22.302 UTC [45] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2019-08-21 16:15:22.331 UTC [46] LOG:  database system was shut down at 2019-08-21 16:15:22 UTC
2019-08-21 16:15:22.342 UTC [45] LOG:  database system is ready to accept connections
 done
server started

/usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*

2019-08-21 16:15:22.386 UTC [45] LOG:  received fast shutdown request
waiting for server to shut down....2019-08-21 16:15:22.389 UTC [45] LOG:  aborting any active transactions
2019-08-21 16:15:22.392 UTC [45] LOG:  background worker "logical replication launcher" (PID 52) exited with exit code 1
2019-08-21 16:15:22.393 UTC [47] LOG:  shutting down
2019-08-21 16:15:22.419 UTC [45] LOG:  database system is shut down
 done
server stopped

PostgreSQL init process complete; ready for start up.

postgres (PostgreSQL) 11.5 (Debian 11.5-1.pgdg90+1)
pgbench with BUFFER_TEST SINGLE_THREAD READ_WRITE
pgbench_entry
PGDATA=/var/lib/postgresql/data
POSTGRES_INITDB_WALDIR=
input parameters: BUFFER_TEST SINGLE_THREAD READ_WRITE
posgresql user mode
HOME=/var/lib/postgresql
PGDATA=/var/lib/postgresql/data
/
The files belonging to this database system will be owned by user "postgres".
This user must also own the server process.

The database cluster will be initialized with locale "C".
The default text search configuration will be set to "english".

Data page checksums are disabled.

fixing permissions on existing directory /var/lib/postgresql/data ... ok
creating subdirectories ... ok
selecting default max_connections ... 100
selecting default shared_buffers ... 128MB
selecting default timezone ... Etc/UTC
selecting dynamic shared memory implementation ... posix
creating configuration files ... ok
running bootstrap script ... ok
performing post-bootstrap initialization ... ok
syncing data to disk ... ok

Success. You can now start the database server using:

    ./pg_ctl -D /var/lib/postgresql/data -l logfile start

waiting for server to start....2019-08-21 16:15:25.668 UTC [30] LOG:  listening on IPv4 address "0.0.0.0", port 5432
2019-08-21 16:15:25.668 UTC [30] LOG:  listening on IPv6 address "::", port 5432
2019-08-21 16:15:25.673 UTC [30] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2019-08-21 16:15:25.699 UTC [31] LOG:  database system was shut down at 2019-08-21 16:15:25 UTC
2019-08-21 16:15:25.709 UTC [30] LOG:  database system is ready to accept connections
 done
server started
SYS_MEMORY=32936640 NUM_CPU_CORES=16
BUFFER_TEST Selected
SCALING_FACTOR=98
2019-08-21 16:15:49.257 UTC [32] LOG:  checkpoints are occurring too frequently (13 seconds apart)
2019-08-21 16:15:49.257 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
PGBENCH_ARGS=-c 1 PGBENCH_MORE_ARGS=
transaction type: <builtin: TPC-B (sort of)>
scaling factor: 98
query mode: simple
number of clients: 1
number of threads: 1
duration: 600 s
number of transactions actually processed: 210729
latency average = 2.847 ms
tps = 351.214512 (including connections establishing)
tps = 351.218201 (excluding connections establishing)
waiting for server to shut down...2019-08-21 16:26:08.555 UTC [30] LOG:  received fast shutdown request
.2019-08-21 16:26:08.559 UTC [30] LOG:  aborting any active transactions
2019-08-21 16:26:08.566 UTC [30] LOG:  background worker "logical replication launcher" (PID 36) exited with exit code 1
2019-08-21 16:26:08.944 UTC [32] LOG:  shutting down
2019-08-21 16:26:09.001 UTC [30] LOG:  database system is shut down
pgbench with BUFFER_TEST SINGLE_THREAD READ_ONLY
pgbench_entry
PGDATA=/var/lib/postgresql/data
POSTGRES_INITDB_WALDIR=
input parameters: BUFFER_TEST SINGLE_THREAD READ_ONLY
posgresql user mode
HOME=/var/lib/postgresql
PGDATA=/var/lib/postgresql/data
/
The files belonging to this database system will be owned by user "postgres".
This user must also own the server process.

The database cluster will be initialized with locale "C".
The default text search configuration will be set to "english".

Data page checksums are disabled.

fixing permissions on existing directory /var/lib/postgresql/data ... ok
creating subdirectories ... ok
selecting default max_connections ... 100
selecting default shared_buffers ... 128MB
selecting default timezone ... Etc/UTC
selecting dynamic shared memory implementation ... posix
creating configuration files ... ok
running bootstrap script ... ok
performing post-bootstrap initialization ... ok
syncing data to disk ... ok

Success. You can now start the database server using:

    ./pg_ctl -D /var/lib/postgresql/data -l logfile start

waiting for server to start....2019-08-21 16:26:12.731 UTC [30] LOG:  listening on IPv4 address "0.0.0.0", port 5432
2019-08-21 16:26:12.732 UTC [30] LOG:  listening on IPv6 address "::", port 5432
2019-08-21 16:26:12.736 UTC [30] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2019-08-21 16:26:12.764 UTC [31] LOG:  database system was shut down at 2019-08-21 16:26:12 UTC
2019-08-21 16:26:12.773 UTC [30] LOG:  database system is ready to accept connections
 done
server started
SYS_MEMORY=32936640 NUM_CPU_CORES=16
BUFFER_TEST Selected
SCALING_FACTOR=98
2019-08-21 16:26:38.293 UTC [32] LOG:  checkpoints are occurring too frequently (15 seconds apart)
2019-08-21 16:26:38.293 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
PGBENCH_ARGS=-c 1 PGBENCH_MORE_ARGS=-S
transaction type: <builtin: select only>
scaling factor: 98
query mode: simple
number of clients: 1
number of threads: 1
duration: 600 s
number of transactions actually processed: 3726325
latency average = 0.161 ms
tps = 6210.539392 (including connections establishing)
tps = 6210.614321 (excluding connections establishing)
waiting for server to shut down...2019-08-21 16:36:56.117 UTC [30] LOG:  received fast shutdown request
.2019-08-21 16:36:56.121 UTC [30] LOG:  aborting any active transactions
2019-08-21 16:36:56.123 UTC [30] LOG:  background worker "logical replication launcher" (PID 36) exited with exit code 1
2019-08-21 16:36:56.128 UTC [32] LOG:  shutting down
2019-08-21 16:36:56.172 UTC [30] LOG:  database system is shut down
pgbench with BUFFER_TEST NORMAL_LOAD READ_WRITE
pgbench_entry
PGDATA=/var/lib/postgresql/data
POSTGRES_INITDB_WALDIR=
input parameters: BUFFER_TEST NORMAL_LOAD READ_WRITE
posgresql user mode
HOME=/var/lib/postgresql
PGDATA=/var/lib/postgresql/data
/
The files belonging to this database system will be owned by user "postgres".
This user must also own the server process.

The database cluster will be initialized with locale "C".
The default text search configuration will be set to "english".

Data page checksums are disabled.

fixing permissions on existing directory /var/lib/postgresql/data ... ok
creating subdirectories ... ok
selecting default max_connections ... 100
selecting default shared_buffers ... 128MB
selecting default timezone ... Etc/UTC
selecting dynamic shared memory implementation ... posix
creating configuration files ... ok
running bootstrap script ... ok
performing post-bootstrap initialization ... ok
syncing data to disk ... ok

Success. You can now start the database server using:

    ./pg_ctl -D /var/lib/postgresql/data -l logfile start

waiting for server to start....2019-08-21 16:36:59.552 UTC [30] LOG:  listening on IPv4 address "0.0.0.0", port 5432
2019-08-21 16:36:59.553 UTC [30] LOG:  listening on IPv6 address "::", port 5432
2019-08-21 16:36:59.556 UTC [30] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2019-08-21 16:36:59.579 UTC [31] LOG:  database system was shut down at 2019-08-21 16:36:59 UTC
2019-08-21 16:36:59.593 UTC [30] LOG:  database system is ready to accept connections
 done
server started
SYS_MEMORY=32936640 NUM_CPU_CORES=16
BUFFER_TEST Selected
SCALING_FACTOR=98
2019-08-21 16:37:23.331 UTC [32] LOG:  checkpoints are occurring too frequently (14 seconds apart)
2019-08-21 16:37:23.331 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
PGBENCH_ARGS=-j 16 -c 64 PGBENCH_MORE_ARGS=
2019-08-21 16:37:47.056 UTC [32] LOG:  checkpoints are occurring too frequently (24 seconds apart)
2019-08-21 16:37:47.056 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
2019-08-21 16:38:07.501 UTC [32] LOG:  checkpoints are occurring too frequently (20 seconds apart)
2019-08-21 16:38:07.501 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
2019-08-21 16:38:31.171 UTC [32] LOG:  checkpoints are occurring too frequently (24 seconds apart)
2019-08-21 16:38:31.171 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
2019-08-21 16:38:56.123 UTC [32] LOG:  checkpoints are occurring too frequently (25 seconds apart)
2019-08-21 16:38:56.123 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
2019-08-21 16:39:20.176 UTC [32] LOG:  checkpoints are occurring too frequently (24 seconds apart)
2019-08-21 16:39:20.176 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
2019-08-21 16:39:46.787 UTC [32] LOG:  checkpoints are occurring too frequently (26 seconds apart)
2019-08-21 16:39:46.787 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
2019-08-21 16:40:13.263 UTC [32] LOG:  checkpoints are occurring too frequently (27 seconds apart)
2019-08-21 16:40:13.263 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
2019-08-21 16:40:40.588 UTC [32] LOG:  checkpoints are occurring too frequently (27 seconds apart)
2019-08-21 16:40:40.588 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
2019-08-21 16:41:09.714 UTC [32] LOG:  checkpoints are occurring too frequently (29 seconds apart)
2019-08-21 16:41:09.714 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
2019-08-21 16:41:36.563 UTC [32] LOG:  checkpoints are occurring too frequently (27 seconds apart)
2019-08-21 16:41:36.563 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
2019-08-21 16:42:04.888 UTC [32] LOG:  checkpoints are occurring too frequently (28 seconds apart)
2019-08-21 16:42:04.888 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
2019-08-21 16:42:33.157 UTC [32] LOG:  checkpoints are occurring too frequently (29 seconds apart)
2019-08-21 16:42:33.157 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
2019-08-21 16:43:01.638 UTC [32] LOG:  checkpoints are occurring too frequently (28 seconds apart)
2019-08-21 16:43:01.638 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
2019-08-21 16:43:29.652 UTC [32] LOG:  checkpoints are occurring too frequently (28 seconds apart)
2019-08-21 16:43:29.652 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
2019-08-21 16:44:28.088 UTC [32] LOG:  checkpoints are occurring too frequently (29 seconds apart)
2019-08-21 16:44:28.088 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
2019-08-21 16:44:55.428 UTC [32] LOG:  checkpoints are occurring too frequently (27 seconds apart)
2019-08-21 16:44:55.428 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
2019-08-21 16:45:24.052 UTC [32] LOG:  checkpoints are occurring too frequently (29 seconds apart)
2019-08-21 16:45:24.052 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
2019-08-21 16:45:52.279 UTC [32] LOG:  checkpoints are occurring too frequently (28 seconds apart)
2019-08-21 16:45:52.279 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
2019-08-21 16:46:20.484 UTC [32] LOG:  checkpoints are occurring too frequently (28 seconds apart)
2019-08-21 16:46:20.484 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
2019-08-21 16:47:19.507 UTC [32] LOG:  checkpoints are occurring too frequently (29 seconds apart)
2019-08-21 16:47:19.507 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
transaction type: <builtin: TPC-B (sort of)>
scaling factor: 98
query mode: simple
number of clients: 64
number of threads: 16
duration: 600 s
number of transactions actually processed: 2319559
latency average = 16.556 ms
tps = 3865.661642 (including connections establishing)
tps = 3865.892067 (excluding connections establishing)
2019-08-21 16:47:40.478 UTC [30] LOG:  received fast shutdown request
waiting for server to shut down....2019-08-21 16:47:40.483 UTC [30] LOG:  aborting any active transactions
2019-08-21 16:47:40.487 UTC [30] LOG:  background worker "logical replication launcher" (PID 36) exited with exit code 1
2019-08-21 16:47:40.860 UTC [32] LOG:  shutting down
2019-08-21 16:47:40.915 UTC [30] LOG:  database system is shut down
pgbench with BUFFER_TEST NORMAL_LOAD READ_ONLY
pgbench_entry
PGDATA=/var/lib/postgresql/data
POSTGRES_INITDB_WALDIR=
input parameters: BUFFER_TEST NORMAL_LOAD READ_ONLY
posgresql user mode
HOME=/var/lib/postgresql
PGDATA=/var/lib/postgresql/data
/
The files belonging to this database system will be owned by user "postgres".
This user must also own the server process.

The database cluster will be initialized with locale "C".
The default text search configuration will be set to "english".

Data page checksums are disabled.

fixing permissions on existing directory /var/lib/postgresql/data ... ok
creating subdirectories ... ok
selecting default max_connections ... 100
selecting default shared_buffers ... 128MB
selecting default timezone ... Etc/UTC
selecting dynamic shared memory implementation ... posix
creating configuration files ... ok
running bootstrap script ... ok
performing post-bootstrap initialization ... ok
syncing data to disk ... ok

Success. You can now start the database server using:

    ./pg_ctl -D /var/lib/postgresql/data -l logfile start

waiting for server to start....2019-08-21 16:47:44.676 UTC [30] LOG:  listening on IPv4 address "0.0.0.0", port 5432
2019-08-21 16:47:44.676 UTC [30] LOG:  listening on IPv6 address "::", port 5432
2019-08-21 16:47:44.682 UTC [30] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2019-08-21 16:47:44.711 UTC [31] LOG:  database system was shut down at 2019-08-21 16:47:44 UTC
2019-08-21 16:47:44.724 UTC [30] LOG:  database system is ready to accept connections
 done
server started
SYS_MEMORY=32936640 NUM_CPU_CORES=16
BUFFER_TEST Selected
SCALING_FACTOR=98
2019-08-21 16:48:08.765 UTC [32] LOG:  checkpoints are occurring too frequently (13 seconds apart)
2019-08-21 16:48:08.765 UTC [32] HINT:  Consider increasing the configuration parameter "max_wal_size".
PGBENCH_ARGS=-j 16 -c 64 PGBENCH_MORE_ARGS=-S
transaction type: <builtin: select only>
scaling factor: 98
query mode: simple
number of clients: 64
number of threads: 16
duration: 600 s
number of transactions actually processed: 46623027
latency average = 0.824 ms
tps = 77702.013272 (including connections establishing)
tps = 77705.448490 (excluding connections establishing)
2019-08-21 16:58:26.031 UTC [30] LOG:  received fast shutdown request
waiting for server to shut down....2019-08-21 16:58:26.036 UTC [30] LOG:  aborting any active transactions
2019-08-21 16:58:26.041 UTC [30] LOG:  background worker "logical replication launcher" (PID 36) exited with exit code 1
2019-08-21 16:58:26.041 UTC [32] LOG:  shutting down
2019-08-21 16:58:26.084 UTC [30] LOG:  database system is shut down
Default-Node-Server
[postgres] [INFO] Test clear docker image:
[postgres] 
[postgres] [INFO] clear package version:
[postgres] 
The files belonging to this database system will be owned by user "postgres".
This user must also own the server process.

The database cluster will be initialized with locale "en_US.UTF-8".
The default database encoding has accordingly been set to "UTF8".
The default text search configuration will be set to "english".

Data page checksums are disabled.

fixing permissions on existing directory /var/lib/pgsql/data ... ok
creating subdirectories ... ok
selecting default max_connections ... 100
selecting default shared_buffers ... 128MB
selecting default timezone ... UTC
selecting dynamic shared memory implementation ... posix
creating configuration files ... ok
running bootstrap script ... ok
performing post-bootstrap initialization ... ok
syncing data to disk ... ok

Success. You can now start the database server using:

    pg_ctl -D /var/lib/pgsql/data -l logfile start

waiting for server to start....LOG:  database system was shut down at 2019-08-21 16:58:29 UTC
LOG:  MultiXact member wraparound protections are now enabled
LOG:  database system is ready to accept connections
LOG:  autovacuum launcher started
 done
server started

/usr/local/bin/bootstrap.sh: ignoring /docker-entrypoint-initdb.d/*

waiting for server to shut down....LOG:  received fast shutdown request
LOG:  aborting any active transactions
LOG:  autovacuum launcher shutting down
LOG:  shutting down
LOG:  database system is shut down
 done
server stopped

PostgreSQL init process complete; ready for start up.

postgres (PostgreSQL) 9.6.15
pgbench with BUFFER_TEST SINGLE_THREAD READ_WRITE
pgbench_entry
PGDATA=/var/lib/pgsql/data
POSTGRES_INITDB_WALDIR=
input parameters: BUFFER_TEST SINGLE_THREAD READ_WRITE
posgresql user mode
HOME=/
PGDATA=/var/lib/pgsql/data
/
The files belonging to this database system will be owned by user "postgres".
This user must also own the server process.

The database cluster will be initialized with locale "C".
The default text search configuration will be set to "english".

Data page checksums are disabled.

fixing permissions on existing directory /var/lib/pgsql/data ... ok
creating subdirectories ... ok
selecting default max_connections ... 100
selecting default shared_buffers ... 128MB
selecting default timezone ... UTC
selecting dynamic shared memory implementation ... posix
creating configuration files ... ok
running bootstrap script ... ok
performing post-bootstrap initialization ... ok
syncing data to disk ... ok

Success. You can now start the database server using:

    pg_ctl -D /var/lib/pgsql/data -l logfile start

server starting
LOG:  database system was shut down at 2019-08-21 16:58:35 UTC
LOG:  MultiXact member wraparound protections are now enabled
LOG:  database system is ready to accept connections
SYS_MEMORY=32936640 NUM_CPU_CORES=16
BUFFER_TEST Selected
SCALING_FACTOR=98
PGBENCH_ARGS=-c 1 PGBENCH_MORE_ARGS=
transaction type: <builtin: TPC-B (sort of)>
scaling factor: 98
query mode: simple
number of clients: 1
number of threads: 1
duration: 600 s
number of transactions actually processed: 203066
latency average = 2.955 ms
tps = 338.442175 (including connections establishing)
tps = 338.446120 (excluding connections establishing)
waiting for server to shut down....LOG:  received fast shutdown request
LOG:  aborting any active transactions
LOG:  shutting down
LOG:  database system is shut down
 done
server stopped
pgbench with BUFFER_TEST SINGLE_THREAD READ_ONLY
pgbench_entry
PGDATA=/var/lib/pgsql/data
POSTGRES_INITDB_WALDIR=
input parameters: BUFFER_TEST SINGLE_THREAD READ_ONLY
posgresql user mode
HOME=/
PGDATA=/var/lib/pgsql/data
/
The files belonging to this database system will be owned by user "postgres".
This user must also own the server process.

The database cluster will be initialized with locale "C".
The default text search configuration will be set to "english".

Data page checksums are disabled.

fixing permissions on existing directory /var/lib/pgsql/data ... ok
creating subdirectories ... ok
selecting default max_connections ... 100
selecting default shared_buffers ... 128MB
selecting default timezone ... UTC
selecting dynamic shared memory implementation ... posix
creating configuration files ... ok
running bootstrap script ... ok
performing post-bootstrap initialization ... ok
syncing data to disk ... ok

Success. You can now start the database server using:

    pg_ctl -D /var/lib/pgsql/data -l logfile start

server starting
LOG:  database system was shut down at 2019-08-21 17:09:13 UTC
LOG:  MultiXact member wraparound protections are now enabled
LOG:  database system is ready to accept connections
SYS_MEMORY=32936640 NUM_CPU_CORES=16
BUFFER_TEST Selected
SCALING_FACTOR=98
PGBENCH_ARGS=-c 1 PGBENCH_MORE_ARGS=-S
transaction type: <builtin: select only>
scaling factor: 98
query mode: simple
number of clients: 1
number of threads: 1
duration: 600 s
number of transactions actually processed: 3603639
latency average = 0.166 ms
tps = 6006.060045 (including connections establishing)
tps = 6006.103569 (excluding connections establishing)
waiting for server to shut down....LOG:  received fast shutdown request
LOG:  aborting any active transactions
LOG:  shutting down
LOG:  database system is shut down
 done
server stopped
pgbench with BUFFER_TEST NORMAL_LOAD READ_WRITE
pgbench_entry
PGDATA=/var/lib/pgsql/data
POSTGRES_INITDB_WALDIR=
input parameters: BUFFER_TEST NORMAL_LOAD READ_WRITE
posgresql user mode
HOME=/
PGDATA=/var/lib/pgsql/data
/
The files belonging to this database system will be owned by user "postgres".
This user must also own the server process.

The database cluster will be initialized with locale "C".
The default text search configuration will be set to "english".

Data page checksums are disabled.

fixing permissions on existing directory /var/lib/pgsql/data ... ok
creating subdirectories ... ok
selecting default max_connections ... 100
selecting default shared_buffers ... 128MB
selecting default timezone ... UTC
selecting dynamic shared memory implementation ... posix
creating configuration files ... ok
running bootstrap script ... ok
performing post-bootstrap initialization ... ok
syncing data to disk ... ok

Success. You can now start the database server using:

    pg_ctl -D /var/lib/pgsql/data -l logfile start

server starting
LOG:  database system was shut down at 2019-08-21 17:19:51 UTC
LOG:  MultiXact member wraparound protections are now enabled
LOG:  database system is ready to accept connections
SYS_MEMORY=32936640 NUM_CPU_CORES=16
BUFFER_TEST Selected
SCALING_FACTOR=98
PGBENCH_ARGS=-j 16 -c 64 PGBENCH_MORE_ARGS=
LOG:  checkpoints are occurring too frequently (14 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (13 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (15 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (13 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (14 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (14 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (14 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (15 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (15 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (15 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (15 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (17 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (17 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (15 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (17 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (17 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (17 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (15 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (15 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
transaction type: <builtin: TPC-B (sort of)>
scaling factor: 98
query mode: simple
number of clients: 64
number of threads: 16
duration: 600 s
number of transactions actually processed: 2093353
latency average = 18.346 ms
tps = 3488.570379 (including connections establishing)
tps = 3488.651459 (excluding connections establishing)
waiting for server to shut down....LOG:  received fast shutdown request
LOG:  aborting any active transactions
LOG:  shutting down
LOG:  database system is shut down
 done
server stopped
pgbench with BUFFER_TEST NORMAL_LOAD READ_ONLY
pgbench_entry
PGDATA=/var/lib/pgsql/data
POSTGRES_INITDB_WALDIR=
input parameters: BUFFER_TEST NORMAL_LOAD READ_ONLY
posgresql user mode
HOME=/
PGDATA=/var/lib/pgsql/data
/
The files belonging to this database system will be owned by user "postgres".
This user must also own the server process.

The database cluster will be initialized with locale "C".
The default text search configuration will be set to "english".

Data page checksums are disabled.

fixing permissions on existing directory /var/lib/pgsql/data ... ok
creating subdirectories ... ok
selecting default max_connections ... 100
selecting default shared_buffers ... 128MB
selecting default timezone ... UTC
selecting dynamic shared memory implementation ... posix
creating configuration files ... ok
running bootstrap script ... ok
performing post-bootstrap initialization ... ok
syncing data to disk ... ok

Success. You can now start the database server using:

    pg_ctl -D /var/lib/pgsql/data -l logfile start

server starting
LOG:  database system was shut down at 2019-08-21 17:30:28 UTC
LOG:  MultiXact member wraparound protections are now enabled
LOG:  database system is ready to accept connections
SYS_MEMORY=32936640 NUM_CPU_CORES=16
BUFFER_TEST Selected
SCALING_FACTOR=98
PGBENCH_ARGS=-j 16 -c 64 PGBENCH_MORE_ARGS=-S
transaction type: <builtin: select only>
scaling factor: 98
query mode: simple
number of clients: 64
number of threads: 16
duration: 600 s
number of transactions actually processed: 46529291
latency average = 0.825 ms
tps = 77545.341846 (including connections establishing)
tps = 77547.111832 (excluding connections establishing)
waiting for server to shut down....LOG:  received fast shutdown request
LOG:  aborting any active transactions
LOG:  shutting down
LOG:  database system is shut down
 done
server stopped
Clr-Node-Server
[postgres] [INFO] Test extra official docker image, postgres9.6:
[postgres] 
[postgres] [INFO] extra test package version:
[postgres] 
The files belonging to this database system will be owned by user "postgres".
This user must also own the server process.

The database cluster will be initialized with locale "en_US.utf8".
The default database encoding has accordingly been set to "UTF8".
The default text search configuration will be set to "english".

Data page checksums are disabled.

fixing permissions on existing directory /var/lib/postgresql/data ... ok
creating subdirectories ... ok
selecting default max_connections ... 100
selecting default shared_buffers ... 128MB
selecting default timezone ... Etc/UTC
selecting dynamic shared memory implementation ... posix
creating configuration files ... ok
running bootstrap script ... ok
performing post-bootstrap initialization ... ok
syncing data to disk ... ok

Success. You can now start the database server using:

    pg_ctl -D /var/lib/postgresql/data -l logfile start

waiting for server to start....LOG:  database system was shut down at 2019-08-21 17:41:05 UTC
LOG:  MultiXact member wraparound protections are now enabled
LOG:  autovacuum launcher started
LOG:  database system is ready to accept connections
 done
server started

/usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*

waiting for server to shut down...LOG:  received fast shutdown request
.LOG:  aborting any active transactions
LOG:  autovacuum launcher shutting down
LOG:  shutting down
LOG:  database system is shut down
 done
server stopped

PostgreSQL init process complete; ready for start up.

postgres (PostgreSQL) 9.6.15
pgbench with BUFFER_TEST SINGLE_THREAD READ_WRITE
pgbench_entry
PGDATA=/var/lib/postgresql/data
POSTGRES_INITDB_WALDIR=
input parameters: BUFFER_TEST SINGLE_THREAD READ_WRITE
posgresql user mode
HOME=/var/lib/postgresql
PGDATA=/var/lib/postgresql/data
/
The files belonging to this database system will be owned by user "postgres".
This user must also own the server process.

The database cluster will be initialized with locale "C".
The default text search configuration will be set to "english".

Data page checksums are disabled.

fixing permissions on existing directory /var/lib/postgresql/data ... ok
creating subdirectories ... ok
selecting default max_connections ... 100
selecting default shared_buffers ... 128MB
selecting default timezone ... Etc/UTC
selecting dynamic shared memory implementation ... posix
creating configuration files ... ok
running bootstrap script ... ok
performing post-bootstrap initialization ... ok
syncing data to disk ... ok

Success. You can now start the database server using:

    ./pg_ctl -D /var/lib/postgresql/data -l logfile start

server starting
LOG:  database system was shut down at 2019-08-21 17:41:10 UTC
LOG:  MultiXact member wraparound protections are now enabled
LOG:  database system is ready to accept connections
SYS_MEMORY=32936640 NUM_CPU_CORES=16
BUFFER_TEST Selected
SCALING_FACTOR=98
PGBENCH_ARGS=-c 1 PGBENCH_MORE_ARGS=
transaction type: <builtin: TPC-B (sort of)>
scaling factor: 98
query mode: simple
number of clients: 1
number of threads: 1
duration: 600 s
number of transactions actually processed: 208153
latency average = 2.883 ms
tps = 346.918898 (including connections establishing)
tps = 346.922276 (excluding connections establishing)
LOG:  received fast shutdown request
waiting for server to shut down....LOG:  aborting any active transactions
LOG:  shutting down
LOG:  database system is shut down
pgbench with BUFFER_TEST SINGLE_THREAD READ_ONLY
pgbench_entry
PGDATA=/var/lib/postgresql/data
POSTGRES_INITDB_WALDIR=
input parameters: BUFFER_TEST SINGLE_THREAD READ_ONLY
posgresql user mode
HOME=/var/lib/postgresql
PGDATA=/var/lib/postgresql/data
/
The files belonging to this database system will be owned by user "postgres".
This user must also own the server process.

The database cluster will be initialized with locale "C".
The default text search configuration will be set to "english".

Data page checksums are disabled.

fixing permissions on existing directory /var/lib/postgresql/data ... ok
creating subdirectories ... ok
selecting default max_connections ... 100
selecting default shared_buffers ... 128MB
selecting default timezone ... Etc/UTC
selecting dynamic shared memory implementation ... posix
creating configuration files ... ok
running bootstrap script ... ok
performing post-bootstrap initialization ... ok
syncing data to disk ... ok

Success. You can now start the database server using:

    ./pg_ctl -D /var/lib/postgresql/data -l logfile start

server starting
LOG:  database system was shut down at 2019-08-21 17:51:47 UTC
LOG:  MultiXact member wraparound protections are now enabled
LOG:  database system is ready to accept connections
SYS_MEMORY=32936640 NUM_CPU_CORES=16
BUFFER_TEST Selected
SCALING_FACTOR=98
PGBENCH_ARGS=-c 1 PGBENCH_MORE_ARGS=-S
transaction type: <builtin: select only>
scaling factor: 98
query mode: simple
number of clients: 1
number of threads: 1
duration: 600 s
number of transactions actually processed: 3710201
latency average = 0.162 ms
tps = 6183.664448 (including connections establishing)
tps = 6183.721740 (excluding connections establishing)
waiting for server to shut down...LOG:  received fast shutdown request
.LOG:  aborting any active transactions
LOG:  shutting down
LOG:  database system is shut down
pgbench with BUFFER_TEST NORMAL_LOAD READ_WRITE
pgbench_entry
PGDATA=/var/lib/postgresql/data
POSTGRES_INITDB_WALDIR=
input parameters: BUFFER_TEST NORMAL_LOAD READ_WRITE
posgresql user mode
HOME=/var/lib/postgresql
PGDATA=/var/lib/postgresql/data
/
The files belonging to this database system will be owned by user "postgres".
This user must also own the server process.

The database cluster will be initialized with locale "C".
The default text search configuration will be set to "english".

Data page checksums are disabled.

fixing permissions on existing directory /var/lib/postgresql/data ... ok
creating subdirectories ... ok
selecting default max_connections ... 100
selecting default shared_buffers ... 128MB
selecting default timezone ... Etc/UTC
selecting dynamic shared memory implementation ... posix
creating configuration files ... ok
running bootstrap script ... ok
performing post-bootstrap initialization ... ok
syncing data to disk ... ok

Success. You can now start the database server using:

    ./pg_ctl -D /var/lib/postgresql/data -l logfile start

server starting
LOG:  database system was shut down at 2019-08-21 18:02:26 UTC
LOG:  MultiXact member wraparound protections are now enabled
LOG:  database system is ready to accept connections
SYS_MEMORY=32936640 NUM_CPU_CORES=16
BUFFER_TEST Selected
SCALING_FACTOR=98
PGBENCH_ARGS=-j 16 -c 64 PGBENCH_MORE_ARGS=
LOG:  checkpoints are occurring too frequently (14 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (13 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (13 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (13 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (14 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (14 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (14 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (15 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (14 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (15 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (15 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (17 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (15 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (15 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (15 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (15 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (17 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (15 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (17 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (17 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (14 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (15 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (18 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (15 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (18 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (15 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (16 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (15 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
LOG:  checkpoints are occurring too frequently (17 seconds apart)
HINT:  Consider increasing the configuration parameter "max_wal_size".
transaction type: <builtin: TPC-B (sort of)>
scaling factor: 98
query mode: simple
number of clients: 64
number of threads: 16
duration: 600 s
number of transactions actually processed: 2121002
latency average = 18.106 ms
tps = 3534.663034 (including connections establishing)
tps = 3534.828426 (excluding connections establishing)
LOG:  received fast shutdown request
LOG:  aborting any active transactions
waiting for server to shut down....LOG:  shutting down
LOG:  database system is shut down
pgbench with BUFFER_TEST NORMAL_LOAD READ_ONLY
pgbench_entry
PGDATA=/var/lib/postgresql/data
POSTGRES_INITDB_WALDIR=
input parameters: BUFFER_TEST NORMAL_LOAD READ_ONLY
posgresql user mode
HOME=/var/lib/postgresql
PGDATA=/var/lib/postgresql/data
/
The files belonging to this database system will be owned by user "postgres".
This user must also own the server process.

The database cluster will be initialized with locale "C".
The default text search configuration will be set to "english".

Data page checksums are disabled.

fixing permissions on existing directory /var/lib/postgresql/data ... ok
creating subdirectories ... ok
selecting default max_connections ... 100
selecting default shared_buffers ... 128MB
selecting default timezone ... Etc/UTC
selecting dynamic shared memory implementation ... posix
creating configuration files ... ok
running bootstrap script ... ok
performing post-bootstrap initialization ... ok
syncing data to disk ... ok

Success. You can now start the database server using:

    ./pg_ctl -D /var/lib/postgresql/data -l logfile start

server starting
LOG:  database system was shut down at 2019-08-21 18:13:04 UTC
LOG:  MultiXact member wraparound protections are now enabled
LOG:  database system is ready to accept connections
SYS_MEMORY=32936640 NUM_CPU_CORES=16
BUFFER_TEST Selected
SCALING_FACTOR=98
PGBENCH_ARGS=-j 16 -c 64 PGBENCH_MORE_ARGS=-S
transaction type: <builtin: select only>
scaling factor: 98
query mode: simple
number of clients: 64
number of threads: 16
duration: 600 s
number of transactions actually processed: 48291148
latency average = 0.795 ms
tps = 80483.402255 (including connections establishing)
tps = 80486.845592 (excluding connections establishing)
LOG:  received fast shutdown request
waiting for server to shut down...LOG:  aborting any active transactions
.LOG:  shutting down
LOG:  database system is shut down
Extra Test on postgres9.6
